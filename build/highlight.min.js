var RegexHighlighter=function(){function e(e,n,t){var i=new XMLHttpRequest;i.onreadystatechange=function(){4==i.readyState&&200==i.status&&n(i.responseText,t)},i.open("GET",e,!0),i.send()}function n(e){e.sort(function(e,n){return e.index==n.index?e.precedence==n.precedence?0:e.precedence-n.precedence:e.index-n.index})}function t(e,n){for(var t=1;t<e.length;t++){var i=n(e[t-1],e[t]);0!=i&&(0>i?(e.splice(t-1,1),t--):(e.splice(t,1),t--))}}function i(e,n){for(var t=0,i=0;i<n.length;i++){var c=n[i],d=c.index,g=c.classes,s=c.length;e=r(e,g,d+t,d+s+t),t+=("<span class=''></span>"+g).length}return e}function r(e,n,t,i){"undefined"==typeof n&&(n=""),"undefined"==typeof t&&(t=0),"undefined"==typeof i&&(i=e.length);var r=e.substring(0,t),c=e.substring(t,i),d=e.substring(i);return r+"<span class='"+n+"'>"+c+"</span>"+d}function c(e,n,t){var i=[],r=1;for(var c in e){for(var d=e[c],g=d.regexes,s=0;s<g.length;s++){regex=g[s];for(var a=new RegExp(regex,"gm");match=a.exec(n);){var l=match.index,h=match[match.length-1];if("undefined"!=typeof h){if(d.precedence)if(isNaN(d.precedence)){for(var p=!1,s=0;s<i.length;s++)if(d.precedence==i[s].type){precedence=i[s].precedence,r--,p=!0;break}p||(precedence=r)}else precedence=parseInt(d.precedence),r--;else precedence=r;object={index:l,classes:t+" "+c,type:c,length:h.length,match:h,precedence:precedence},i.push(object)}}}r++}return i}function d(e,n){return e.index==n.index?e.precidence==n.precidence?e.length==n.length?-1:e.length-n.length:e.precidence-n.precidence:n.index>e.index&&n.index+n.length<e.index+e.length?1:n.index>e.index&&n.index<e.index+e.length&&n.index+n.length>=e.index+e.length?e.precidence!=n.precidence?e.precidence-n.precidence:e.length!=n.length?e.length-n.length:-1:0}this.insertSyntaxHighlighting=function(e,r,g,s){"undefined"==typeof g&&(g="regex-highlight"),"undefined"==typeof s&&(s=d);var a=c(e,r,g);return n(a),t(a,s),i(r,a)},this.insertSyntaxHighlightingByClass=function(e,n){if("undefined"==typeof e)return!1;"undefined"==typeof n&&(n="regex-color");for(var t=document.getElementsByClassName(n),i=0;i<t.length;i++){var r=t[i],c=r.innerHTML;result=this.insertSyntaxHighlighting(e,c),result&&(r.innerHTML=result)}return!0},this.loadSyntaxHighlightingByClass=function(n,t){"undefined"==typeof t&&(t="languages/"),"undefined"==typeof n&&(n="regex-color");for(var i=document.getElementsByClassName(n),r=0;r<i.length;r++){var c=i[r],d=c.className.split(" ");if(d.length>1){var g=d[1];e(t+g+".json",function(e,n){var t=JSON.parse(e),i=(new RegexHighlighter).insertSyntaxHighlighting(t,n.innerHTML);i&&(n.innerHTML=i)},c)}}}};
