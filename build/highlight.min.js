var RegexHighlighter=function(){function e(e,n,t){var r=new XMLHttpRequest;r.onreadystatechange=function(){4==r.readyState&&200==r.status&&n(r.responseText,t)},r.open("GET",e,!0),r.send()}function n(e){e.sort(function(e,n){return e.index==n.index?e.precedence==n.precedence?0:e.precedence-n.precedence:e.index-n.index})}function t(e,n){for(var t=1;t<e.length;t++){var r=n(e[t-1],e[t]);0!=r&&(0>r?(e.splice(t-1,1),t--):(e.splice(t,1),t--))}}function r(e,n){for(var t=0,r=0;r<n.length;r++){var c=n[r],s=c.index,a=c.classes,g=c.length;e=i(e,a,s+t,s+g+t),t+=("<span class=''></span>"+a).length}return e}function i(e,n,t,r){"undefined"==typeof n&&(n=""),"undefined"==typeof t&&(t=0),"undefined"==typeof r&&(r=e.length);var i=e.substring(0,t),c=e.substring(t,r),s=e.substring(r);return i+"<span class='"+n+"'>"+c+"</span>"+s}function c(e,n,t){var r=[],i=1;for(var c in e){var s,g=e[c],d=g.regexes;if(g.precedence)if(isNaN(g.precedence)){for(var h=!1,l=0;l<r.length;l++)if(g.precedence==r[l].type){s=r[l].precedence,i--,h=!0;break}h||(s=i)}else s=parseInt(g.precedence),i--;else s=i;for(var l=0;l<d.length;l++){var f,o,p=d[l];"string"==typeof p?(f=p,o=0):(f=p.regexString,o=p.captureGroup);for(var u=new RegExp(f,"gm");match=u.exec(n);){var x=match.index;o>=match.length&&(o=0);var v=match[o];if("undefined"!=typeof v){var y=match[0].indexOf(v);g=new a(x+y,t+" "+c,c,v.length,v,s),r.push(g)}}}i++}return r}function s(e,n){return e.index==n.index?e.precedence==n.precedence?e.length==n.length?-1:e.length-n.length:e.precedence-n.precedence:n.index>e.index&&n.index+n.length<e.index+e.length?1:n.index>e.index&&n.index<e.index+e.length&&n.index+n.length>=e.index+e.length?e.precedence!=n.precedence?e.precedence-n.precedence:e.length!=n.length?e.length-n.length:-1:0}var a=function(e,n,t,r,i,c){this.index=e,this.classes=n,this.type=t,this.length=r,this.match=i,this.precedence=c};this.insertSyntaxHighlighting=function(e,i,a,g){"undefined"==typeof a&&(a="regex-highlight"),"undefined"==typeof g&&(g=s);var d=c(e,i,a);return n(d),t(d,g),r(i,d)},this.insertSyntaxHighlightingByClass=function(e,n){if("undefined"==typeof e)return!1;"undefined"==typeof n&&(n="regex-color");for(var t=document.getElementsByClassName(n),r=0;r<t.length;r++){var i=t[r],c=i.innerHTML;result=this.insertSyntaxHighlighting(e,c),result&&(i.innerHTML=result)}return!0},this.loadSyntaxHighlightingByClass=function(n,t){"undefined"==typeof t&&(t="languages/"),"undefined"==typeof n&&(n="regex-color");for(var r=document.getElementsByClassName(n),i=0;i<r.length;i++){var c=r[i],s=c.className.split(" ");if(s.length>1){var a=s[1];e(t+a+".json",function(e,n){var t=JSON.parse(e),r=(new RegexHighlighter).insertSyntaxHighlighting(t,n.innerHTML);r&&(n.innerHTML=r)},c)}}}};
