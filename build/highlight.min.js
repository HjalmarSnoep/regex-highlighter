var RegexHighlighter=function(){function e(e,n,t){var i=new XMLHttpRequest;i.onreadystatechange=function(){4==i.readyState&&200==i.status&&n(i.responseText,t)},i.open("GET",e,!0),i.send()}function n(e){e.sort(function(e,n){return e.index==n.index?e.precedence==n.precedence?0:e.precedence-n.precedence:e.index-n.index})}function t(e,n){for(var t=1;t<e.length;t++){var i=n(e[t-1],e[t]);0!=i&&(0>i?(e.splice(t-1,1),t--):(e.splice(t,1),t--))}}function i(e,n){for(var t=0,i=0;i<n.length;i++){var s=n[i],c=s.index,g=s.classes,d=s.length;e=r(e,g,c+t,c+d+t),t+=("<span class=''></span>"+g).length}return e}function r(e,n,t,i){"undefined"==typeof n&&(n=""),"undefined"==typeof t&&(t=0),"undefined"==typeof i&&(i=e.length);var r=e.substring(0,t),s=e.substring(t,i),c=e.substring(i);return r+"<span class='"+n+"'>"+s+"</span>"+c}function s(e,n,t){var i=[],r=1;for(var s in e){var c,d=e[s],a=d.regexes;if(d.precedence)if(isNaN(d.precedence)){for(var h=!1,l=0;l<i.length;l++)if(d.precedence==i[l].type){c=i[l].precedence,r--,h=!0;break}h||(c=r)}else c=parseInt(d.precedence),r--;else c=r;for(var l=0;l<a.length;l++){regex=a[l];for(var f=new RegExp(regex,"gm");match=f.exec(n);){var o=match.index,u=match[0];"undefined"!=typeof u&&(d=new g(o,t+" "+s,s,u.length,u,c),i.push(d))}}r++}return i}function c(e,n){return e.index==n.index?e.precedence==n.precedence?e.length==n.length?-1:e.length-n.length:e.precedence-n.precedence:n.index>e.index&&n.index+n.length<e.index+e.length?1:n.index>e.index&&n.index<e.index+e.length&&n.index+n.length>=e.index+e.length?e.precedence!=n.precedence?e.precedence-n.precedence:e.length!=n.length?e.length-n.length:-1:0}var g=function(e,n,t,i,r,s){this.index=e,this.classes=n,this.type=t,this.length=i,this.match=r,this.precedence=s};this.insertSyntaxHighlighting=function(e,r,g,d){"undefined"==typeof g&&(g="regex-highlight"),"undefined"==typeof d&&(d=c);var a=s(e,r,g);return n(a),t(a,d),i(r,a)},this.insertSyntaxHighlightingByClass=function(e,n){if("undefined"==typeof e)return!1;"undefined"==typeof n&&(n="regex-color");for(var t=document.getElementsByClassName(n),i=0;i<t.length;i++){var r=t[i],s=r.innerHTML;result=this.insertSyntaxHighlighting(e,s),result&&(r.innerHTML=result)}return!0},this.loadSyntaxHighlightingByClass=function(n,t){"undefined"==typeof t&&(t="languages/"),"undefined"==typeof n&&(n="regex-color");for(var i=document.getElementsByClassName(n),r=0;r<i.length;r++){var s=i[r],c=s.className.split(" ");if(c.length>1){var g=c[1];e(t+g+".json",function(e,n){var t=JSON.parse(e),i=(new RegexHighlighter).insertSyntaxHighlighting(t,n.innerHTML);i&&(n.innerHTML=i)},s)}}}};
